<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org">
  <!-- Define head variables -->
  <th:block th:insert="~{layout :: head('Home', ~{::pageStyles})}"></th:block>

  <!-- truque: trocamos o root por um replace no layout -->
  <th:block th:replace="~{layout :: layout(~{::content}, ~{::pageScripts})}">
    <main th:fragment="content" class="w-full max-w-sm">
      <div class="space-y-6">
        <!-- Header -->
        <div class="text-center space-y-2">
          <div
            class="inline-block px-3 py-1 rounded-full text-xs font-medium"
            style="background-color: #73e5e2; color: #394f87"
          >
            üêæ Welcome
          </div>
          <h1 class="text-3xl font-bold" style="color: #394f87">Sign in</h1>
          <p class="text-xs" style="color: #394f87; opacity: 0.7">
            Log in to continue
          </p>
        </div>

        <!-- Form -->
        <form
          method="POST"
          th:action="@{/user/sign-in}"
          th:object="${loginForm}"
          class="space-y-4"
        >
          <div>
            <label
              for="credential"
              class="block text-xs font-medium mb-1"
              style="color: #394f87"
              >Username or Email</label
            >
            <input
              id="credential"
              th:field="*{credential}"
              required
              type="text"
              placeholder="Enter your username or email"
              class="block w-full rounded-lg px-3 py-2 text-sm placeholder-gray-400 focus:outline-none transition"
              style="
                border: 1px solid rgba(57, 79, 135, 0.2);
                background-color: white;
              "
            />
          </div>

          <div>
            <label
              for="password"
              class="block text-xs font-medium mb-1"
              style="color: #394f87"
              >Password</label
            >
            <input
              id="password"
              th:field="*{password}"
              required
              type="password"
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
              class="block w-full rounded-lg px-3 py-2 text-sm placeholder-gray-400 focus:outline-none transition"
              style="
                border: 1px solid rgba(57, 79, 135, 0.2);
                background-color: white;
              "
            />
          </div>

          <p
            th:text="${exception.message}"
            class="text-xs text-red-600 font-semibold"
          ></p>

          <button
            type="submit"
            class="w-full rounded-lg text-white text-sm font-semibold px-4 py-2.5 transition-all hover:opacity-90"
            style="background-color: #fabb4d"
          >
            Sign in
          </button>

          <p class="text-center text-xs" style="color: #394f87; opacity: 0.7">
            Don't have an account?
            <a
              href="/user/sign-up"
              class="font-medium hover:underline"
              style="color: #fabb4d"
              >Sign up</a
            >
          </p>
        </form>

        <p class="text-center text-xs" style="color: #394f87; opacity: 0.5">
          By signing in, you agree with our terms of use
        </p>
      </div>
    </main>
  </th:block>
</html>
